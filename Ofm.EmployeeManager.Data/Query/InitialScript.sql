USE OfimaEmployeeManager;
GO

CREATE TABLE TypesEmployee (
    TypeEmployeeId INT IDENTITY(1,1) PRIMARY KEY,
    TypeEmployeeName NVARCHAR(100) NOT NULL
);

CREATE TABLE Employee (
    EmployeeId INT IDENTITY(1,1) PRIMARY KEY,
    EmployeeFirstName NVARCHAR(100) NOT NULL,
    EmployeeLastName NVARCHAR(100) NOT NULL,
    EmployeeEmail NVARCHAR(150) NOT NULL,
    EmployeeEmailCompany NVARCHAR(150) NOT NULL,
    EmployeeSalary DECIMAL(18, 2) NOT NULL DEFAULT 0,
    PasswordHash NVARCHAR(MAX) NOT NULL,
    PasswordSalt NVARCHAR(MAX) NULL,
    TypeEmployeeId INT NOT NULL,
    PhotoInBase64 NVARCHAR(MAX) NULL,
    LastModifiedDate DATETIME NOT NULL DEFAULT GETDATE(),
    CreationDate DATETIME NOT NULL DEFAULT GETDATE(),
    FOREIGN KEY (TypeEmployeeId) REFERENCES TypesEmployee(TypeEmployeeId)
);

CREATE TABLE LogsEmployee (
    LogId INT IDENTITY(1,1) PRIMARY KEY,
    EmployeeId INT NOT NULL,
    Timestamp DATETIME NOT NULL DEFAULT GETDATE(),
    Description NVARCHAR(250) NOT NULL,
    FOREIGN KEY (EmployeeId) REFERENCES Employee(EmployeeId)
);

INSERT INTO TypesEmployee (TypeEmployeeName)
VALUES 
    ('Manager'),
    ('Developer'),
    ('Designer');

INSERT INTO Employee (
    EmployeeFirstName, 
    EmployeeLastName, 
    EmployeeEmail, 
    EmployeeEmailCompany,
    EmployeeSalary,
    PasswordHash, 
    PasswordSalt, 
    TypeEmployeeId, 
    PhotoInBase64, 
    LastModifiedDate, 
    CreationDate
)
VALUES (
    'John',
    'Doe',
    'john2.doe@example.com',
    'john2.doe@company.com',
    0,
    'hashedpassword123',
    'saltvalue123',
    1,
    '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',
    GETDATE(),
    GETDATE()
),
(
    'Jane',
    'Smith',
    'jane.smith@example.com',
    'jane.smith@company.com',
    0,
    'hashedpassword456',
    'saltvalue456',
    2,
    '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',
    GETDATE(),
    GETDATE()
);

INSERT INTO LogsEmployee (
    EmployeeId,
    Timestamp,
    Description
)
VALUES 
    (1, GETDATE(), 'Logged in successfully.'),
    (2, GETDATE(), 'Failed login attempt.'),
    (1, GETDATE(), 'Password changed.');